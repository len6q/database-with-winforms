# Разработка приложения, взаимодействующего с базой данных

## Введение
Было разработано классическое CRUD приложение «Вегетарианское сообщество» с использованием Windows Forms. Приложение представляет собой окно с обсуждениями на разные темы, в котором пользователи могут оставлять комментарии. 

В качестве СУБД использовалась MS SQL Server. Вся информация хранится на локальном сервере в базе данных.

Для работы с базой данных использовался пакет Microsoft.Data.SqlClient.

## Создание базы данных
Создадим базу данных на основе данной ER-модели.

![](image/er-model.png)

Создадим саму базу данных.

![](image/1.png)

Создадим таблицы пользователей, постов и комментариев.

![](image/2.png)
## Интеграция базы данных с приложением
Для работы с базой данных MS SQL Server необходимо установить в проект через nuget пакет Microsoft.Data.SqlClient.

![](image/3.png)

Создадим файл конфигурации с базой данных.

![](image/4.png)

Теперь можно подключиться к базе данных и выполнять SQL запросы.

![](image/5.png)
## Пример работы программы
В приложении есть возможность добавления пользователя в сообщество, создание обсуждения и добавления комментария к обсуждению. В приложении можно редактировать и удалять комментарии по выбранным элементам listBox. Также есть возможность просмотра всех комментариев под разными обсуждениями.

На рисунке ниже представлен главное окно приложения. 

![](image/6.png)

Добавим нового пользователя в сообщество.

![](image/7.PNG)

Создадим новое обсуждение.

![](image/8.PNG)

Теперь добавим еще новых пользователей и попробуем провести обсуждение по заданному вопросу.

![](image/9.png)

Добавим комментарий.

![](image/10.PNG)

Полученное окно "Обсуждение".

![](image/11.png)

Можно редактировать сообщения, выбрав их в окне "Обсуждение" и введя новый текст. Изменим благодарственное последнее сообщение.

![](image/12.PNG)

Также есть возможность удаления комментариев, нужно выбрать комментарий в окне «Обсуждение» и нажать кнопку «Удалить комментарий».

Удалим все комментарии человека, который любит мясо (пользователь под номером 5).

![](image/13.PNG)

Зададим новый вопрос и опять проведем обсуждение.

![](image/14.png)

В итоге у нас есть два обсуждения, которые можно переключать и видеть все комментарии по определенному вопросу.

![](image/15.PNG)
## Завершение
Было разработано классическое CRUD-приложение. Данное приложение предусматривает функции добавления, редактирования, удаления, показа и хранения объектов в базе данных.

База данных расположена на локальном сервере. Для работы с базой данных использовалась СУБД Microsoft SQL Server. База данных была интегрирована в Microsoft Windows Forms.
